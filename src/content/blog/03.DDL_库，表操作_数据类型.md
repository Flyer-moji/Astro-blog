---
title: 03.[SQL]DDL 表，库，数据类型
description: /
pubDate: 08 08 2025
categories:
  - tech
tags:
  - SQL
---
## 数据结构

客户端->服务系统（DBMS data base management system）->数据库->表（二维表）->记录

使用表结构来存储数据的数据库，统称为关系型数据库（RDBMS Relational）。

##  SQl 代码分类

1. DDL（Data Definition Language）数据定义语言，用于定义数据库对象，如数据库、表、视图、索引等。

2. DML（Manipulation）数据操纵语言，用于操作数据库对象，如插入、删除、更新数据。

3. DCL（Control）数据控制语言，用于控制数据库对象，如事务处理、权限管理等。

4. DQL（Query）数据查询语言，用于查询数据库对象，如SELECT、WHERE、ORDER BY等。

### DDL 库操作

[]内表示可选参数。

查询：
```SQL
SHOW DATABASES; #查看所有数据库 注意分号结尾

SELECT DATABASE(); #查看当前所处数据库
```
创建：
```SQL
CREATE DATABASE 数据库名; #创建数据库

CREATE DATABASE [IF NOT EXISTS] 数据库名 [DEFAULT CHARSET 字符集] [COLLATE 排序规则];

#字符集设置，建议使用utf8mb4，因为utf8为3字节编码，而utf8mb4为4字节编码，可以存储更多的字符。
```



删除：
```SQL
DROP DATABASE 数据库名; #删除数据库
```
进入：
```sql
USE 数据库名; #选择数据库（进入）
```
### DDL 表操作

查询：
```SQL
SHOW TABLES; #查看所有表

DESC 表名; #查看表结构 describe

SHOW CREATE TABLE 表名; #查看创建表的SQL语句（相当于看注释和其他信息）
```
创建：

```SQL
CREATE TABLE 表名 (
     字段名1 字段类型1 [COMMENT '注释1'],
     字段名2 字段类型2 [COMMENT '注释2'],
     ...
);[COMMENT '表注释']      

#eg:

CREATE TABLE TB_USER (
    id int COMMENT '用户ID',
    name varchar(50) COMMENT '用户名',  #varchar()字符串
    age int COMMENT '年龄', 
    gender char(1) COMMENT '性别',
);comment '用户表'
``` 
修改：

`add` `modify` `change` `drop` `rename` 
```SQL
 ALTER TABLE 表名 ADD 字段名 字段类型 [约束条件 注释]; #添加字段

 ALTER TABLE 表名 MODIFY 字段名 字段类型 [约束条件 注释]; #修改字段的类型

 ALTER TABLE 表名 CHANGE 旧字段名 新字段名 字段类型 [约束条件 注释]; #修改字段名和类型

 ALTER TABLE 表名 DROP 字段名; #删除字段

 ALTER TABLE 表名 RENAME 旧表名 新表名; #重命名表
```
删除：

 `drop` `truncate` 
```SQL
 DROP TABLE [IF EXISTS] 表名; #删除表

 TRUNCATE TABLE 表名; #清空表，删除所有记录，保留表结构
```
### 数据类型
#### 数值类：

| 数据类型 | 说明 | 大小|
|--------|--------|--------|
| INT | 整型 | 4字节 |
| DECIMAL | 定点数 | 8字节 |
| FLOAT | 浮点数 | 4字节 |
| DOUBLE | 双精度浮点数 | 8字节 |
| ITNYINT | 短整型 | 1字节 |
| SMALLINT | 短整型 | 2字节 |
| BIGINT | 长整型 | 8字节 |
| DECIMAL | 定点数 | 1~65位精度，4字节 |

使用`signed`和`unsigned`可以指定数值是否带+-符号。

#### 字符类：
| 数据类型 | 说明 | 大小| 备注 |
|--------|--------|--------|---|
| CHAR | 定长字符串 | 0-255字节 |固定内存大小，不可变，但性能更强 |
| VARCHAR | 变长字符串 | 0-65535字节 | 可变内存大小，性能一般 |
| TEXT | 长文本 | 0-65535字节 |不常用 |

char 和 varchar 的选择：按照存储对象的可变性选即可，不用太在意性能。

#### 日期类：

注意单引号

| 数据类型 | 说明 | 大小| 格式 | 范围 |
|---------|--------|--------|---| ---|
| DATE | 日期 | 3字节 |'YYYY-MM-DD'|1000-01-01~9999-12-31|
| TIME | 时间 | 3字节 |'HH:MM:SS'|00:00:00~23:59:59|
| DATETIME | 日期时间 | 8字节 |'YYYY-MM-DD HH:MM:SS'|1000-01-01 00:00:00~9999-12-31 23:59:59|
| DATETIME | 日期时间 | 8字节 |'YYYY-MM-DD HH:MM:SS'| 1000-01-01 00:00:00~9999-12-31 23:59:59|
| TIMESTAMP | 时间戳 | 4字节 |'YYYY-MM-DD HH:MM:SS'|  1970-01-01 00:00:01~2038-01-19 03:14:07|
| YEAR | 年份 | 1字节 |'YYYY'|1901~2155|

